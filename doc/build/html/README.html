
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Contrast &#8212; Contrast 1.0.0 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Overview" href="overview.html" />
    <link rel="prev" title="Contrast documentation contents" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="overview.html" title="Overview"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Contrast documentation contents"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Contrast 1.0.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="contrast">
<h1>Contrast<a class="headerlink" href="#contrast" title="Permalink to this headline">¶</a></h1>
<p>Contrast is an implementation of the generalized contrast function described in:</p>
<div class="topic">
<p class="topic-title first">Reference Paper</p>
<div class="line-block">
<div class="line">Contrast-dependent crowding</div>
<div class="line-block">
<div class="line">(2020, in submission)</div>
<div class="line"><br /></div>
</div>
<div class="line">A.M.Rodriguez, R.Granger</div>
<div class="line-block">
<div class="line">Dartmouth College</div>
</div>
</div>
</div>
<div class="topic">
<p class="topic-title first">Abstract</p>
<p>Visual clutter affects our ability to see: objects that
would be identifiable on their own, may become
unrecognizable when presented close together (“crowding”) –
but the psychophysical characteristics of crowding have
resisted simplification. Image properties initially thought
to produce crowding have paradoxically yielded unexpected
results, e.g., adding flanking objects can ameliorate
crowding (Manassi, Sayim et al. 2012, Herzog, Sayim et
al. 2015, Pachai, Doerig et al. 2016) The resulting theory
revisions have been sufficiently complex and specialized as
to make it difficult to discern what principles may
underlie the observed phenomena. A generalized formulation
of simple visual contrast energy is presented, arising from
straightforward analyses of center and surround neurons in
the early visual stream. Extant contrast measures, such as
RMS contrast, are easily shown to fall out as reduced
special cases. The new generalized contrast energy metric
surprisingly predicts the principal findings of a broad
range of crowding studies.  These early crowding phenomena
may thus be said to arise predominantly from contrast, or
are, at least, severely confounded by contrast
effects. (These findings may be distinct from accounts of
other, likely downstream, “configural” or “semantic”
instances of crowding, suggesting at least two separate
forms of crowding that may resist unification.) The new
fundamental contrast energy formulation provides a
candidate explanatory framework that addresses multiple
psychophysical phenomena beyond crowding.</p>
</div>
<div class="section" id="install">
<h2>Install<a class="headerlink" href="#install" title="Permalink to this headline">¶</a></h2>
<p>This program is written in Python 3.7.3.   <a class="reference external" href="https://www.python.org/">https://www.python.org/</a></p>
<div class="section" id="ensure-that-the-following-python-packages-are-installed">
<h3>Ensure that the following Python packages are installed:<a class="headerlink" href="#ensure-that-the-following-python-packages-are-installed" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>numpy       numpy (1.18.1)</li>
<li>scipy       scipy (1.4.1)</li>
<li>Pillow      Pillow (5.4.1)  <a class="reference external" href="https://pillow.readthedocs.io/en/latest/installation.html">https://pillow.readthedocs.io/en/latest/installation.html</a></li>
<li>matplotlib  matplotlib (3.1.2)</li>
<li>pandas      pandas (0.25.3)</li>
<li>PsychoPy    Psychopy (2020.1.2)</li>
</ul>
<p>Install the latest version of these libraries:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip3 install numpy scipy Pillow matplotlib pandas psychopy
</pre></div>
</div>
</div>
</div>
<div class="section" id="running-the-herzog-experiment">
<h2>Running the Herzog experiment:<a class="headerlink" href="#running-the-herzog-experiment" title="Permalink to this headline">¶</a></h2>
<p>To run Herzog experiment from the paper:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd experiments/herzog
$ ./herzog.py
</pre></div>
</div>
<p>Results will be in the report directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ls report
contrast-Herzog-2012-Figure-1a.pdf
contrast-Herzog-2012-Figure-1b.pdf
contrast-Herzog-2012-Figure-1c.pdf
contrast-Herzog-2012-Figure-1d.pdf
&quot;decision-&#39;herzog&#39;-Figure-1a.pdf&quot;
&quot;decision-&#39;herzog&#39;-Figure-1b.pdf&quot;
&quot;decision-&#39;herzog&#39;-Figure-1c.pdf&quot;
&quot;decision-&#39;herzog&#39;-Figure-1d.pdf&quot;
Herzog-2012-Figure-1a.pdf
Herzog-2012-Figure-1b.pdf
Herzog-2012-Figure-1c.pdf
Herzog-2012-Figure-1d.pdf
$
</pre></div>
</div>
<p>To run the Herzog experiment with a new est_max value one can edit the parameter directly in the source code or one can issue the following command with a command-line option:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd experiments/herzog
$ ./herzog.py -model est_max=0.1
</pre></div>
</div>
<p>All the parameters are listed at the top of each experiment file. For the Herzog
experiment the parameters are in herzog.py:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#foreground_color = [-1,-1,-1]</span>
<span class="n">background_color</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">eccentricity</span> <span class="o">=</span> <span class="mf">3.88</span>
<span class="n">herzog_params</span> <span class="o">=</span> <span class="n">Params</span><span class="p">(</span>
    <span class="n">name</span>             <span class="o">=</span> <span class="s1">&#39;herzog&#39;</span><span class="p">,</span>
    <span class="n">expName</span>          <span class="o">=</span> <span class="s1">&#39;herzog&#39;</span><span class="p">,</span>
    <span class="n">viewing_distance</span> <span class="o">=</span> <span class="mf">75.0</span><span class="p">,</span>
    <span class="n">monitor</span>          <span class="o">=</span> <span class="s1">&#39;testMonitor&#39;</span><span class="p">,</span>
    <span class="n">logfile</span>          <span class="o">=</span> <span class="s1">&#39;herzog.log&#39;</span><span class="p">,</span>
    <span class="n">window_color</span>     <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
    <span class="n">exp_info</span>         <span class="o">=</span> <span class="p">{</span><span class="sa">u</span><span class="s1">&#39;session&#39;</span><span class="p">:</span> <span class="sa">u</span><span class="s1">&#39;001&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;participant&#39;</span><span class="p">:</span> <span class="sa">u</span><span class="s1">&#39;default&#39;</span><span class="p">},</span>
    <span class="n">cwd</span>              <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span>
    <span class="n">target_identifier</span><span class="o">=</span> <span class="p">(</span><span class="s1">&#39;num_flank&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
    <span class="n">stair</span>      <span class="o">=</span> <span class="n">Params</span><span class="p">(</span><span class="n">startVal</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">stepSizes</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">stepType</span><span class="o">=</span><span class="s1">&#39;lin&#39;</span><span class="p">,</span>
                  <span class="n">nReversals</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">nTrials</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">nUp</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nDown</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                  <span class="n">minVal</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">maxVal</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">autoLog</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                  <span class="n">originPath</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;staircase_trials&#39;</span><span class="p">),</span>
    <span class="n">levels</span>     <span class="o">=</span> <span class="p">[</span>
                    <span class="n">Params</span><span class="p">(</span><span class="n">exp_num</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                           <span class="n">num_flank</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span>
                           <span class="n">jitter</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                           <span class="n">flank_target_height_ratio</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">]),</span>
                    <span class="n">Params</span><span class="p">(</span><span class="n">exp_num</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                           <span class="n">num_flank</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span>
                           <span class="n">jitter</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                           <span class="n">flank_target_height_ratio</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
                    <span class="n">Params</span><span class="p">(</span><span class="n">exp_num</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                           <span class="n">num_flank</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span>
                           <span class="n">jitter</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                           <span class="n">flank_target_height_ratio</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span>
                    <span class="n">Params</span><span class="p">(</span><span class="n">exp_num</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                           <span class="n">num_flank</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span>
                           <span class="n">jitter</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                           <span class="n">flank_target_height_ratio</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">])],</span>
    <span class="n">experiment</span> <span class="o">=</span> <span class="n">Params</span><span class="p">(</span><span class="n">eccentricity</span><span class="o">=</span> <span class="n">eccentricity</span><span class="p">,</span>
                  <span class="n">nTrialReps</span><span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
                  <span class="n">nStaircaseTrials</span><span class="o">=</span> <span class="mi">8</span><span class="p">),</span>
    <span class="n">stimulus</span>   <span class="o">=</span> <span class="n">Params</span><span class="p">(</span><span class="n">eccentricity</span><span class="o">=</span> <span class="n">eccentricity</span><span class="p">,</span>
                        <span class="n">jitters</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">0.1</span><span class="p">,</span>  <span class="mf">0.26</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.87</span><span class="p">,</span>  <span class="mf">0.24</span><span class="p">,</span>
                                          <span class="mf">0.86</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.34</span><span class="p">,</span> <span class="mf">0.5</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.51</span><span class="p">])</span><span class="o">*</span><span class="mf">0.5</span><span class="o">*</span><span class="p">(</span><span class="mi">40</span><span class="o">/</span><span class="mf">60.0</span><span class="p">),</span>
                        <span class="n">flank_distance</span><span class="o">=</span><span class="mf">23.33</span><span class="o">/</span><span class="mf">60.0</span><span class="p">,</span>
                        <span class="n">target_orientation</span><span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="n">line_height</span><span class="o">=</span> <span class="mi">40</span><span class="o">/</span><span class="mf">60.0</span><span class="p">,</span>
                        <span class="n">line_width</span><span class="o">=</span> <span class="mi">4</span><span class="o">/</span><span class="mf">60.0</span><span class="p">,</span>
                        <span class="n">vertical_gap</span><span class="o">=</span> <span class="mi">4</span><span class="o">/</span><span class="mf">60.0</span><span class="p">,</span>
                        <span class="n">offset</span><span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
                        <span class="n">filename</span><span class="o">=</span> <span class="p">[</span><span class="s1">&#39;num_flank&#39;</span><span class="p">,</span><span class="s1">&#39;jitter&#39;</span><span class="p">,</span><span class="s1">&#39;offset&#39;</span><span class="p">,</span><span class="s1">&#39;flank_target_height_ratio&#39;</span><span class="p">,</span><span class="s1">&#39;target_orientation&#39;</span><span class="p">],</span>
                        <span class="n">offset_level</span><span class="o">=</span> <span class="mf">16.66</span><span class="o">/</span><span class="mf">60.0</span><span class="p">,</span>
                        <span class="n">offsets</span><span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">16.66</span><span class="p">,</span> <span class="mf">19.04</span><span class="p">,</span> <span class="mf">21.42</span><span class="p">,</span> <span class="mf">23.8</span><span class="p">,</span>
                                           <span class="mf">26.18</span><span class="p">,</span> <span class="mf">28.56</span><span class="p">,</span> <span class="mf">30.94</span><span class="p">,</span> <span class="mf">33.32</span><span class="p">])),</span>
    <span class="n">model</span>      <span class="o">=</span> <span class="n">Params</span><span class="p">(</span><span class="n">eccentricities</span><span class="o">=</span> <span class="p">[</span><span class="n">eccentricity</span><span class="p">],</span> <span class="c1"># in deg</span>
                        <span class="n">view_size</span><span class="o">=</span> <span class="p">(</span><span class="mi">600</span><span class="p">,</span><span class="mi">600</span><span class="p">),</span> <span class="c1"># in pixels</span>
                        <span class="n">view_pos</span><span class="o">=</span> <span class="p">(</span><span class="n">eccentricity</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="c1"># center in degrees of visual angle</span>
                        <span class="n">est_max</span><span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
                        <span class="n">upper_limit</span><span class="o">=</span> <span class="mf">0.85</span><span class="p">,</span>
                        <span class="n">lower_limit</span><span class="o">=</span> <span class="mf">0.0</span><span class="p">))</span>
</pre></div>
</div>
<p>To recreate the stimuli for Herzog experiment (note: various windows will appear while the stimuli are being generated):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd experiments/herzog
$ ./herzog.py -genstim
</pre></div>
</div>
</div>
<div class="section" id="running-the-kahneman-experiment">
<h2>Running the Kahneman experiment:<a class="headerlink" href="#running-the-kahneman-experiment" title="Permalink to this headline">¶</a></h2>
<p>To run Herzog experiment from the paper:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd experiments/herzog
$ ./herzog.py
</pre></div>
</div>
<p>Results will be in the report directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ls report
contrast-Kahneman-2012-Figure-1.pdf
&quot;decision-&#39;kahneman&#39;-Figure-1.pdf&quot;
Kahneman-2012-Figure-1.pdf
$
</pre></div>
</div>
<p>All the parameters are listed at the top of each experiment file. For the Kahneman
experiment the parameters are in kahneman.py:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">foreground_color</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">background_color</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.1</span><span class="p">]</span>
<span class="n">eccentricity</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">kahneman_params</span> <span class="o">=</span> <span class="n">Params</span><span class="p">(</span>
    <span class="n">name</span>             <span class="o">=</span> <span class="s1">&#39;kahneman&#39;</span><span class="p">,</span>
    <span class="n">expName</span>          <span class="o">=</span> <span class="s1">&#39;kahneman&#39;</span><span class="p">,</span>
    <span class="n">exp_num</span>          <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">viewing_distance</span> <span class="o">=</span> <span class="mf">2300.0</span><span class="p">,</span>
    <span class="n">monitor</span>          <span class="o">=</span> <span class="s1">&#39;testMonitor&#39;</span><span class="p">,</span>
    <span class="n">logfile</span>          <span class="o">=</span> <span class="s1">&#39;kahneman.log&#39;</span><span class="p">,</span>
    <span class="n">window_color</span>     <span class="o">=</span> <span class="n">background_color</span><span class="p">,</span>
    <span class="n">cwd</span>              <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span>
    <span class="n">exp_info</span>         <span class="o">=</span> <span class="p">{</span><span class="sa">u</span><span class="s1">&#39;session&#39;</span><span class="p">:</span> <span class="sa">u</span><span class="s1">&#39;001&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;participant&#39;</span><span class="p">:</span> <span class="sa">u</span><span class="s1">&#39;default&#39;</span><span class="p">},</span>
    <span class="n">target_identifier</span><span class="o">=</span> <span class="p">(</span><span class="s1">&#39;flank_distance&#39;</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mf">60.0</span><span class="p">),</span>
    <span class="n">levels</span> <span class="o">=</span> <span class="n">Params</span><span class="p">(</span>
        <span class="n">flank_distance</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">0.06</span><span class="p">,</span> <span class="mf">0.12</span><span class="p">,</span> <span class="mf">0.18</span><span class="p">,</span> <span class="mf">0.24</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">,</span> <span class="mf">1.8</span><span class="p">,</span> <span class="mf">2.4</span><span class="p">,</span> <span class="mf">3.</span><span class="p">,</span> <span class="mf">5.4</span> <span class="p">])</span><span class="o">/</span><span class="mi">60</span><span class="p">,</span>
        <span class="n">offset</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span>
        <span class="n">target_orientation</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">90</span><span class="p">,</span><span class="mi">180</span><span class="p">,</span><span class="mi">270</span><span class="p">]),</span> <span class="c1"># degrees from noon orientation</span>
    <span class="n">experiment</span> <span class="o">=</span> <span class="n">Params</span><span class="p">(</span><span class="n">eccentricity</span><span class="o">=</span> <span class="n">eccentricity</span><span class="p">,</span>
                  <span class="n">nTrialReps</span><span class="o">=</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">stimulus</span>   <span class="o">=</span> <span class="n">Params</span><span class="p">(</span>
        <span class="n">eccentricity</span> <span class="o">=</span> <span class="n">eccentricity</span><span class="p">,</span>
        <span class="n">target_size</span> <span class="o">=</span> <span class="mf">0.0548</span><span class="p">,</span>
        <span class="n">gap_size</span> <span class="o">=</span> <span class="mf">0.01124</span><span class="p">,</span>
        <span class="n">line_width</span><span class="o">=</span> <span class="mf">0.014</span><span class="p">),</span>
    <span class="n">model</span>      <span class="o">=</span> <span class="n">Params</span><span class="p">(</span><span class="n">eccentricities</span><span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="c1"># in deg</span>
                        <span class="n">view_size</span><span class="o">=</span> <span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="mi">1000</span><span class="p">),</span> <span class="c1"># in pixels</span>
                        <span class="n">view_pos</span><span class="o">=</span> <span class="p">(</span><span class="n">eccentricity</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="c1"># center in degrees of visual angle</span>
                        <span class="n">est_max</span><span class="o">=</span> <span class="mf">0.032</span><span class="p">,</span>
                        <span class="n">upper_limit</span><span class="o">=</span> <span class="mf">0.85</span><span class="p">,</span>
                        <span class="n">lower_limit</span><span class="o">=</span> <span class="mf">0.0</span><span class="p">))</span>
</pre></div>
</div>
<p>To recreate the stimuli for Kahneman experiment (note: various windows will appear while the stimuli are being generated):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd experiments/kahneman
$ ./kahneman.py -genstim
</pre></div>
</div>
</div>
<div class="section" id="running-the-pachai-experiment">
<h2>Running the Pachai experiment:<a class="headerlink" href="#running-the-pachai-experiment" title="Permalink to this headline">¶</a></h2>
<p>To run Pachai experiment from the paper:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd experiments/pachai
$ ./pachai.py
</pre></div>
</div>
<p>Results will be in the report directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ls report
contrast-1-Pachai-Figure-1.pdf
contrast-5-Pachai-Figure-1.pdf
&quot;decision-1-&#39;pachai&#39;-Figure-a.pdf&quot;
&quot;decision-5-&#39;pachai&#39;-Figure-a.pdf&quot;
Pachai-1-Figure-1.pdf
Pachai-5-Figure-1.pdf
&quot;plot-&#39;pachai&#39;-barplot.pdf&quot;
$
</pre></div>
</div>
<p>All the parameters are listed at the top of each experiment file. For the Pachai
experiment the parameters are in pachai.py:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">eccentricity</span> <span class="o">=</span> <span class="mf">10.0</span>
<span class="c1">#background_color = [-1,-1,-1]</span>
<span class="n">background_color</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>

<span class="n">pachai_params</span> <span class="o">=</span> <span class="n">Params</span><span class="p">(</span>
    <span class="n">name</span>             <span class="o">=</span> <span class="s1">&#39;pachai&#39;</span><span class="p">,</span>
    <span class="n">expName</span>          <span class="o">=</span> <span class="s1">&#39;pachai&#39;</span><span class="p">,</span>
    <span class="n">exp_num</span>          <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">viewing_distance</span> <span class="o">=</span> <span class="mi">58</span><span class="p">,</span>
    <span class="n">monitor</span>          <span class="o">=</span> <span class="s1">&#39;testMonitor&#39;</span><span class="p">,</span>
    <span class="n">logfile</span>          <span class="o">=</span> <span class="s1">&#39;pachai.log&#39;</span><span class="p">,</span>
    <span class="n">exp_info</span>         <span class="o">=</span> <span class="p">{</span><span class="sa">u</span><span class="s1">&#39;session&#39;</span><span class="p">:</span> <span class="sa">u</span><span class="s1">&#39;001&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;participant&#39;</span><span class="p">:</span> <span class="sa">u</span><span class="s1">&#39;default&#39;</span><span class="p">},</span>
    <span class="n">cwd</span>              <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span>
    <span class="n">window_color</span>     <span class="o">=</span> <span class="n">background_color</span><span class="p">,</span>
    <span class="n">target_identifier</span><span class="o">=</span> <span class="p">(</span><span class="s1">&#39;flank_distance&#39;</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span>
    <span class="n">levels</span> <span class="o">=</span> <span class="n">Params</span><span class="p">(</span><span class="n">flank_distance</span><span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.9</span><span class="p">,</span><span class="mf">1.62</span><span class="p">,</span><span class="mf">2.58</span><span class="p">,</span><span class="mf">3.9</span><span class="p">],</span> <span class="c1"># degrees of visual angle</span>
                    <span class="n">flank_orientation</span><span class="o">=</span> <span class="p">[</span><span class="mi">45</span><span class="p">,</span><span class="mi">135</span><span class="p">,</span><span class="mi">225</span><span class="p">,</span><span class="mi">315</span><span class="p">],</span> <span class="c1"># degrees from noon orientation</span>
                    <span class="n">target_orientation</span><span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">90</span><span class="p">,</span><span class="mi">180</span><span class="p">,</span><span class="mi">270</span><span class="p">],</span> <span class="c1"># degrees from noon orientation</span>
                    <span class="n">gap</span><span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span>
                    <span class="n">num_flank</span><span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">]),</span>
    <span class="n">experiment</span> <span class="o">=</span> <span class="n">Params</span><span class="p">(</span><span class="n">eccentricity</span><span class="o">=</span> <span class="n">eccentricity</span><span class="p">,</span>
                        <span class="n">nTrialReps</span><span class="o">=</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">stimulus</span>   <span class="o">=</span> <span class="n">Params</span><span class="p">(</span><span class="n">line_width</span><span class="o">=</span> <span class="mf">0.4</span><span class="p">,</span>
                        <span class="n">gap_width</span><span class="o">=</span> <span class="mf">1.2</span><span class="p">,</span>
                        <span class="n">target_diameter</span><span class="o">=</span> <span class="mf">2.0</span><span class="p">,</span>
                        <span class="n">flank_height</span><span class="o">=</span> <span class="mf">10.0</span><span class="p">),</span>
    <span class="n">model</span>      <span class="o">=</span> <span class="n">Params</span><span class="p">(</span><span class="n">eccentricities</span><span class="o">=</span> <span class="p">[</span><span class="n">eccentricity</span><span class="p">],</span> <span class="c1"># in deg</span>
                        <span class="n">view_size</span><span class="o">=</span> <span class="p">(</span><span class="mi">600</span><span class="p">,</span><span class="mi">600</span><span class="p">),</span> <span class="c1"># in pixels</span>
                        <span class="n">view_pos</span><span class="o">=</span> <span class="p">(</span><span class="n">eccentricity</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="c1"># center in degrees of visual angle</span>
                        <span class="n">upper_limit</span><span class="o">=</span> <span class="mf">0.85</span><span class="p">,</span>
                        <span class="n">lower_limit</span><span class="o">=</span> <span class="mf">0.0</span><span class="p">))</span>
</pre></div>
</div>
<p>To recreate the stimuli for Pachai experiment (note: various windows will appear while the stimuli are being generated):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd experiments/pachai
$ ./pachai.py -genstim
</pre></div>
</div>
</div>
<div class="section" id="running-the-pelli-experiment">
<h2>Running the Pelli experiment:<a class="headerlink" href="#running-the-pelli-experiment" title="Permalink to this headline">¶</a></h2>
<p>To run Pelli experiment from the paper:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd experiments/pelli
$ ./pelli.py
</pre></div>
</div>
<p>Results will be in the report directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ls report
&quot;contrast-&#39;LargeLetters&#39;-Figure-1.pdf&quot;
&quot;contrast-&#39;SmallLetters&#39;-Figure-1.pdf&quot;
&quot;decision-&#39;LargeLetters&#39;-Figure-1.pdf&quot;
&quot;decision-&#39;SmallLetters&#39;-Figure-1.pdf&quot;
&quot;&#39;LargeLetters&#39;-Figure-1.pdf&quot;
&quot;&#39;SmallLetters&#39;-Figure-1.pdf&quot;
$
</pre></div>
</div>
<p>All the parameters are listed at the top of each experiment file. For the Herzog
experiment the parameters are in herzog.py:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">background_color</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">eccentricity</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">20</span><span class="p">]</span>
<span class="n">pelli_params</span> <span class="o">=</span> <span class="n">Params</span><span class="p">(</span>
    <span class="n">name</span>             <span class="o">=</span> <span class="s1">&#39;pelli&#39;</span><span class="p">,</span>
    <span class="n">expName</span>          <span class="o">=</span> <span class="s1">&#39;pelli&#39;</span><span class="p">,</span>
    <span class="n">exp_num</span>          <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">viewing_distance</span> <span class="o">=</span> <span class="mi">22</span><span class="o">*</span><span class="mf">2.54</span><span class="p">,</span>
    <span class="n">monitor</span>          <span class="o">=</span> <span class="s1">&#39;testMonitor&#39;</span><span class="p">,</span>
    <span class="n">logfile</span>          <span class="o">=</span> <span class="s1">&#39;pelli.log&#39;</span><span class="p">,</span>
    <span class="n">exp_info</span>         <span class="o">=</span> <span class="p">{</span><span class="sa">u</span><span class="s1">&#39;session&#39;</span><span class="p">:</span> <span class="sa">u</span><span class="s1">&#39;001&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;participant&#39;</span><span class="p">:</span> <span class="sa">u</span><span class="s1">&#39;default&#39;</span><span class="p">},</span>
    <span class="n">cwd</span>              <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span>
    <span class="n">window_color</span>     <span class="o">=</span> <span class="n">background_color</span><span class="p">,</span>
    <span class="n">target_identifier</span><span class="o">=</span> <span class="p">(</span><span class="s1">&#39;flank_distance&#39;</span><span class="p">,</span><span class="o">-</span><span class="mf">1.0</span><span class="p">),</span>
    <span class="n">levels</span> <span class="o">=</span> <span class="n">Params</span><span class="p">(</span>
        <span class="n">flank_distance</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.05</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.15</span><span class="p">,</span><span class="mf">0.2</span><span class="p">,</span><span class="mf">0.3</span><span class="p">,</span><span class="mf">0.4</span><span class="p">,</span><span class="mf">0.6</span><span class="p">]),</span>
        <span class="n">offset</span> <span class="o">=</span> <span class="n">eccentricity</span><span class="p">),</span>
    <span class="n">experiment</span> <span class="o">=</span> <span class="n">Params</span><span class="p">(</span>
        <span class="n">nTrialReps</span><span class="o">=</span> <span class="mi">2</span><span class="p">),</span>
    <span class="n">stimulus</span>   <span class="o">=</span> <span class="n">Params</span><span class="p">(</span>
        <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="n">target_size</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
        <span class="n">gap_size</span> <span class="o">=</span> <span class="mf">0.4</span><span class="p">,</span>
        <span class="n">stim</span> <span class="o">=</span> <span class="s1">&#39;02&#39;</span><span class="p">,</span>
        <span class="n">line_width</span><span class="o">=</span> <span class="mf">0.4</span><span class="p">),</span>
    <span class="n">model</span>      <span class="o">=</span> <span class="n">Params</span><span class="p">(</span><span class="n">eccentricities</span><span class="o">=</span> <span class="n">eccentricity</span><span class="p">,</span> <span class="c1"># in deg</span>
                        <span class="n">view_size</span><span class="o">=</span> <span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="mi">500</span><span class="p">),</span> <span class="c1"># in pixels</span>
                        <span class="n">view_pos</span><span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="c1"># center in degrees of visual angle</span>
                        <span class="n">upper_limit</span><span class="o">=</span> <span class="mf">0.85</span><span class="p">,</span>
                        <span class="n">lower_limit</span><span class="o">=</span> <span class="mf">0.0</span><span class="p">))</span>
</pre></div>
</div>
<p>Since we are using two different decision function in the Pelli case, one for ‘Small Letters’ and one for the ‘LargeLetters’, the target_contrast and est_max for those values are defined in the following code fragment at the bottom of the pelli.py file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;SmallLetters&#39;</span><span class="p">:</span>
    <span class="n">pelli_params</span><span class="p">[</span><span class="s1">&#39;model&#39;</span><span class="p">][</span><span class="s1">&#39;target_contrast&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.005</span>
    <span class="n">pelli_params</span><span class="p">[</span><span class="s1">&#39;model&#39;</span><span class="p">][</span><span class="s1">&#39;est_max&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">pelli_params</span><span class="p">[</span><span class="s1">&#39;model&#39;</span><span class="p">][</span><span class="s1">&#39;target_contrast&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.012</span>
    <span class="n">pelli_params</span><span class="p">[</span><span class="s1">&#39;model&#39;</span><span class="p">][</span><span class="s1">&#39;est_max&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.025</span>
</pre></div>
</div>
<p>To recreate the stimuli for Pelli experiment (note: various windows will appear while the stimuli are being generated):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd experiments/pelli
$ ./pelli.py -genstim
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Contrast</a><ul>
<li><a class="reference internal" href="#install">Install</a><ul>
<li><a class="reference internal" href="#ensure-that-the-following-python-packages-are-installed">Ensure that the following Python packages are installed:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#running-the-herzog-experiment">Running the Herzog experiment:</a></li>
<li><a class="reference internal" href="#running-the-kahneman-experiment">Running the Kahneman experiment:</a></li>
<li><a class="reference internal" href="#running-the-pachai-experiment">Running the Pachai experiment:</a></li>
<li><a class="reference internal" href="#running-the-pelli-experiment">Running the Pelli experiment:</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Contrast documentation contents</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="overview.html"
                        title="next chapter">Overview</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/README.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="overview.html" title="Overview"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Contrast documentation contents"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Contrast 1.0.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Antonio M. Rodriguez and Richard H. Granger.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
    </div>
  </body>
</html>